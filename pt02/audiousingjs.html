<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Learning how the HTML5 works</title>
  <link href="css/style.css" rel="stylesheet">
  <script type="text/javascript">
    function play() {
      var music = document.getElementById('music');
      var controller = document.getElementById('controller');
      var btnPlay = controller.querySelector('#play');
      var btnPause = controller.querySelector('#pause');
      var btnUp = controller.querySelector('#up');
      var btnDown = controller.querySelector('#down');
      btnPlay.addEventListener('click', function () {
        music.play();
      }, false);

      btnPause.addEventListener('click', function () {
        music.pause();
      }, false);

      btnUp.addEventListener('click', function () {
        if (music.volume < 1) {
          music.volume += 0.1;
        }
      }, false);
      btnDown.addEventListener('click', function () {
        if (music.volume >= 0.1) {
          console.log('time', music.currentTime)
          music.volume -= 0.1;
        }
      }, false);

    }
    function updateTrackTime() {
      var music = document.getElementById('music');
      var seconds = (music.currentTime % 60).toFixed(0);
      seconds = (seconds >= 10) ? seconds : "0" + seconds;
      var minutes = (Math.floor(music.currentTime / 60)).toFixed(0);
      minutes = (minutes >= 10) ? minutes : "0" + minutes;
      document.getElementById('trackTime').classList.add('trackTime');
      document.getElementById('trackTime').innerHTML = minutes + ':' + seconds;
    }
    window.onload = play;
  </script>
</head>
<body>
<div class="myPlayer">
  <h3>
    My own player using Javascript to controll all the functions
  </h3>
  <form>
    <audio src="sounds/Poesia_Acustica_3_capricorniana.mp3" loop id="music" ontimeupdate="updateTrackTime()"></audio>
    <div id="controller" class="controller">
      <input type="button" value="Play" id="play" class="btn">
      <input type="button" value="Pause" id="pause" class="btn">
      <input type="button" value="+ Vol" id="up" class="btn">
      <input type="button" value="- Vol" id="down" class="btn">
      <span id="trackTime" />
    </div>
  </form>
</div>
</body>
</html>
